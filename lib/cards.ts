// Mad Lib card deck for AI Slop: The Game!

import { MadLibCard } from '@/types/game';

export const cardDeck: MadLibCard[] = [
  {
    id: 'card-1',
    template: 'A ___ creature wearing a ___ made of ___, standing triumphantly on a ___ while holding a glowing ___.',
    blanks: 5,
  },
  {
    id: 'card-2',
    template: 'A hyper-dramatic portrait of a ___ riding a gigantic ___ through a storm of floating ___.',
    blanks: 3,
  },
  {
    id: 'card-3',
    template: 'A bewildered ___ trying to negotiate with a towering ___ constructed entirely from ___.',
    blanks: 3,
  },
  {
    id: 'card-4',
    template: 'An elegant ___ dancing with a ___ in a ballroom filled with ___.',
    blanks: 3,
  },
  {
    id: 'card-5',
    template: 'A tiny ___ piloting a massive ___ through a sea of ___.',
    blanks: 3,
  },
  {
    id: 'card-6',
    template: 'A ___ wizard summoning a ___ made entirely of ___ while standing in a ___.',
    blanks: 4,
  },
  {
    id: 'card-7',
    template: 'An anxious ___ presenting a trophy to a confused ___ in front of an audience of ___.',
    blanks: 3,
  },
  {
    id: 'card-8',
    template: 'A majestic ___ wearing a cape made of ___ while surfing on a wave of ___.',
    blanks: 3,
  },
  {
    id: 'card-9',
    template: 'A ___ chef cooking a ___ using a kitchen utensil shaped like a ___.',
    blanks: 3,
  },
  {
    id: 'card-10',
    template: 'A determined ___ climbing a mountain of ___ to reach a shrine dedicated to ___.',
    blanks: 3,
  },
  {
    id: 'card-11',
    template: 'A cosmic ___ playing a musical instrument made from ___ surrounded by orbiting ___.',
    blanks: 3,
  },
  {
    id: 'card-12',
    template: 'A sophisticated ___ giving a lecture about ___ to a classroom full of ___.',
    blanks: 3,
  },
  {
    id: 'card-13',
    template: 'A mystical ___ emerging from a portal made of ___ carrying an ancient ___.',
    blanks: 3,
  },
  {
    id: 'card-14',
    template: 'A fashionable ___ modeling an outfit made entirely of ___ on a runway surrounded by ___.',
    blanks: 3,
  },
  {
    id: 'card-15',
    template: 'A heroic ___ defending a castle of ___ from an invasion of ___.',
    blanks: 3,
  },
  {
    id: 'card-16',
    template: 'A ___ scientist conducting an experiment with a ___ that accidentally creates a ___.',
    blanks: 3,
  },
  {
    id: 'card-17',
    template: 'A legendary ___ sitting on a throne made of ___ while being served by ___.',
    blanks: 3,
  },
  {
    id: 'card-18',
    template: 'A ___ astronaut discovering a planet covered in ___ inhabited by friendly ___.',
    blanks: 3,
  },
  {
    id: 'card-19',
    template: 'A rebellious ___ spray-painting graffiti of a ___ on a wall made of ___.',
    blanks: 3,
  },
  {
    id: 'card-20',
    template: 'A sleepy ___ napping in a hammock woven from ___ under a tree of ___.',
    blanks: 3,
  },
  {
    id: 'card-21',
    template: 'A competitive ___ racing against a ___ through an obstacle course of ___.',
    blanks: 3,
  },
  {
    id: 'card-22',
    template: 'A wise ___ meditating on top of a ___ surrounded by floating ___.',
    blanks: 3,
  },
  {
    id: 'card-23',
    template: 'A paranoid ___ hiding from a ___ inside a fortress built from ___.',
    blanks: 3,
  },
  {
    id: 'card-24',
    template: 'A glamorous ___ posing for a photograph while holding a bouquet of ___.',
    blanks: 2,
  },
  {
    id: 'card-25',
    template: 'A mischievous ___ stealing a ___ from a museum guarded by ___.',
    blanks: 3,
  },
  {
    id: 'card-26',
    template: 'A ___ archaeologist unearthing a fossil of a ___ in a dig site filled with ___.',
    blanks: 3,
  },
  {
    id: 'card-27',
    template: 'A talented ___ performing a magic trick involving a ___ and a ___.',
    blanks: 3,
  },
  {
    id: 'card-28',
    template: 'A confused ___ reading a map made of ___ while lost in a forest of ___.',
    blanks: 3,
  },
  {
    id: 'card-29',
    template: 'A royal ___ hosting a banquet featuring dishes made entirely from ___.',
    blanks: 2,
  },
  {
    id: 'card-30',
    template: 'A cybernetic ___ hacking into a computer shaped like a ___ in a room full of ___.',
    blanks: 3,
  },
  {
    id: 'card-31',
    template: 'A terrified ___ running away from an army of ___.',
    blanks: 2,
  },
  {
    id: 'card-32',
    template: 'A philosophical ___ debating the meaning of ___ with a talking ___.',
    blanks: 3,
  },
  {
    id: 'card-33',
    template: 'A playful ___ juggling three ___ while riding a unicycle made of ___.',
    blanks: 3,
  },
  {
    id: 'card-34',
    template: 'A Victorian-era ___ sipping tea with a ___ in a garden of ___.',
    blanks: 3,
  },
  {
    id: 'card-35',
    template: 'A futuristic ___ teleporting through a wormhole of ___ into a dimension of ___.',
    blanks: 3,
  },
  {
    id: 'card-36',
    template: 'A grumpy ___ complaining to a customer service representative who is a ___.',
    blanks: 2,
  },
  {
    id: 'card-37',
    template: 'A mysterious ___ guarding a treasure chest filled with ___ in a cave of ___.',
    blanks: 3,
  },
  {
    id: 'card-38',
    template: 'A cheerful ___ planting a garden of ___ in soil made from ___.',
    blanks: 3,
  },
  {
    id: 'card-39',
    template: 'A robotic ___ serving breakfast to a ___ on a plate shaped like a ___.',
    blanks: 3,
  },
  {
    id: 'card-40',
    template: 'A dramatic ___ delivering a speech about ___ to an audience of ___.',
    blanks: 3,
  },
  {
    id: 'card-41',
    template: 'A nocturnal ___ howling at a moon made of ___ in a sky filled with ___.',
    blanks: 3,
  },
  {
    id: 'card-42',
    template: 'A wealthy ___ purchasing a ___ from a merchant selling ___.',
    blanks: 3,
  },
  {
    id: 'card-43',
    template: 'A stealthy ___ sneaking through a security system protected by ___.',
    blanks: 2,
  },
  {
    id: 'card-44',
    template: 'A romantic ___ proposing to a ___ with a ring made of ___.',
    blanks: 3,
  },
  {
    id: 'card-45',
    template: 'A muscular ___ lifting weights made of ___ in a gym full of ___.',
    blanks: 3,
  },
  {
    id: 'card-46',
    template: 'A time-traveling ___ visiting the year ___ to witness the rise of ___.',
    blanks: 3,
  },
  {
    id: 'card-47',
    template: 'An underwater ___ exploring a shipwreck filled with ___ and guarded by ___.',
    blanks: 3,
  },
  {
    id: 'card-48',
    template: 'A caffeinated ___ running a marathon through a city made of ___.',
    blanks: 2,
  },
  {
    id: 'card-49',
    template: 'A haunted ___ floating through a mansion decorated with ___.',
    blanks: 2,
  },
  {
    id: 'card-50',
    template: 'A miniature ___ battling a giant ___ using a weapon made from ___.',
    blanks: 3,
  },
  {
    id: 'card-51',
    template: 'A scholarly ___ translating an ancient text written in ___ about the history of ___.',
    blanks: 3,
  },
  {
    id: 'card-52',
    template: 'A festive ___ celebrating a holiday by decorating a ___ with ___.',
    blanks: 3,
  },
  {
    id: 'card-53',
    template: 'A cursed ___ transforming into a ___ under the light of a ___ moon.',
    blanks: 3,
  },
  {
    id: 'card-54',
    template: 'A business-minded ___ negotiating a deal about ___ with a CEO who is a ___.',
    blanks: 3,
  },
  {
    id: 'card-55',
    template: 'A musical ___ conducting an orchestra of ___ playing instruments made from ___.',
    blanks: 3,
  },
  {
    id: 'card-56',
    template: 'A dimension-hopping ___ escaping from a prison made of ___.',
    blanks: 2,
  },
  {
    id: 'card-57',
    template: 'A psychic ___ predicting the future using a crystal ball filled with ___.',
    blanks: 2,
  },
  {
    id: 'card-58',
    template: 'A battle-scarred ___ training a young ___ in the ancient art of ___.',
    blanks: 3,
  },
  {
    id: 'card-59',
    template: 'A photogenic ___ posing in front of a landmark made entirely of ___.',
    blanks: 2,
  },
  {
    id: 'card-60',
    template: 'A shape-shifting ___ disguising itself as a ___ to infiltrate a party of ___.',
    blanks: 3,
  },
  {
    id: 'card-61',
    template: 'A caffeinated ___ typing frantically on a keyboard made of ___ in an office of ___.',
    blanks: 3,
  },
  {
    id: 'card-62',
    template: 'A majestic ___ spreading its wings made of ___ while perched on a ___.',
    blanks: 3,
  },
  {
    id: 'card-63',
    template: 'A villainous ___ cackling maniacally while sitting in a lair decorated with ___.',
    blanks: 2,
  },
  {
    id: 'card-64',
    template: 'A zen ___ arranging a rock garden made from ___ in the pattern of a ___.',
    blanks: 3,
  },
  {
    id: 'card-65',
    template: 'A pixel-art ___ battling a boss ___ in a video game level made of ___.',
    blanks: 3,
  },
  {
    id: 'card-66',
    template: 'A sentient ___ writing poetry about ___ on paper made from ___.',
    blanks: 3,
  },
  {
    id: 'card-67',
    template: 'A rebellious ___ leading a revolution against an empire of ___.',
    blanks: 2,
  },
  {
    id: 'card-68',
    template: 'A mythical ___ blessing a village with gifts of ___ during a festival of ___.',
    blanks: 3,
  },
  {
    id: 'card-69',
    template: 'A ninja ___ performing a stealth mission involving a ___ in a temple of ___.',
    blanks: 3,
  },
  {
    id: 'card-70',
    template: 'A prehistoric ___ hunting a ___ using tools made from ___.',
    blanks: 3,
  },
];

// Track recently used cards to avoid repetition
let recentlyUsedCards: string[] = [];
const RECENT_MEMORY_SIZE = 15; // Don't repeat last 15 cards

export function getRandomCard(): MadLibCard {
  // Get cards that haven't been used recently
  const availableCards = cardDeck.filter(card => !recentlyUsedCards.includes(card.id));

  // If we've used almost all cards, clear the memory
  if (availableCards.length < 5) {
    recentlyUsedCards = [];
    return cardDeck[Math.floor(Math.random() * cardDeck.length)];
  }

  // Pick a random card from available ones
  const selectedCard = availableCards[Math.floor(Math.random() * availableCards.length)];

  // Add to recently used
  recentlyUsedCards.push(selectedCard.id);

  // Keep only the last N cards in memory
  if (recentlyUsedCards.length > RECENT_MEMORY_SIZE) {
    recentlyUsedCards.shift();
  }

  return selectedCard;
}

export function parseTemplate(template: string, words: string[]): string {
  let result = template;
  words.forEach((word) => {
    result = result.replace('___', word);
  });
  return result;
}
